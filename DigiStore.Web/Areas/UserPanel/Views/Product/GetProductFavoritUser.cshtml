@using DigiStore.Application.Extensions
@model DigiStore.Domain.ViewModels.FavoriteProductUser.FilterFavoritViewModel
@{
    ViewData["Title"] = "لیست علاقه مندی های  " + User.Identity.Name;
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@await Component.InvokeAsync("UserSidebar")
<div class="col-lg-9 col-md-8 col-xs-12 pull-right">
    <div class="col-lg-12 col-xs-12 pull-right">
        <div class="headline-profile">
            <span>لیست علاقه مندی</span>
        </div>
        <div class="profile-stats">
            <form method="get" id="filter-form" asp-controller="Product" asp-action="GetProductFavoritUser" asp-area="UserPanel">
                <input type="hidden" asp-for="PageId"/>
                @if (Model.FavoriteProductUsers != null && Model.FavoriteProductUsers.Any())
                {
                    @foreach (var favoritProduct in Model.FavoriteProductUsers)
                     {
                         <div class="profile-recent-fav profile-favorites-fav">
                             <a href="#" class="img-profile-favorites"><img src="@(PathExtension.ProductImageThumb + favoritProduct.Product.ImageName)" alt="profile"></a>
                             <div class="profile-recent-fav-col">
                                 <a href="#" style="font-size: 16px;">@favoritProduct.Product.Name</a>
                                 <div class="profile-recent-fav-price">@favoritProduct.Product.Price.ToString("#,0")تومان</div>
                                 <div class="profile-recent-fav-remove"><a onclick="RemoveProductFromFavoritList(@favoritProduct.FavoriteProductUserId,@favoritProduct.Product.ProductId)"><i class="fa fa-trash"></i></a></div>
                                 <a href="#" class="profile-wishlist">مشاهده محصول<i class="fa fa-angle-left"></i></a>
                             </div>
                         </div>
                     }
                    <partial name="_PagingPartial" model="@Model.GetCurrentPaging()"/>

                }
                else
                {
                    <partial name="_NotFoundItem"/>
                }
            </form>

        </div>
    </div>
</div>

